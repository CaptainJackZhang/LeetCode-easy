<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 7.6 Beta 1 (457227)"/><meta name="author" content="zhangxianlei117@gmail.com"/><meta name="created" content="2018-09-01 06:45:12 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2018-09-03 04:12:10 +0000"/><title>LeetCode 删除链表中的节点</title></head><body><div style="box-sizing: border-box;"><div style="box-sizing: border-box; margin-top: 1em; margin-bottom: 1em;"><span style="box-sizing: border-box;-en-paragraph:true;">删除链表中等于给定值 </span><span style="box-sizing: border-box; font-style: italic; font-weight: bold;-en-paragraph:true;">val </span><span style="box-sizing: border-box;-en-paragraph:true;">的所有节点。
</span></div><div style="box-sizing: border-box; margin-top: 1em; margin-bottom: 1em;"><span style="box-sizing: border-box; font-weight: bold;-en-paragraph:true;">示例:</span></div><div style="box-sizing: border-box; overflow: auto; font-size: 13px; padding: 9.5px; word-break: break-all; word-wrap: break-word; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; line-height: 1.42857143; font-weight: bold;">输入:</span><span style="color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; line-height: 1.42857143;"> 1-&gt;2-&gt;6-&gt;3-&gt;4-&gt;5-&gt;6, </span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; line-height: 1.42857143; font-style: italic; font-weight: bold;">val</span><span style="color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; line-height: 1.42857143;"> = 6</span></div><div><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; line-height: 1.42857143; font-weight: bold;">输出:</span><span style="color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; line-height: 1.42857143;"> 1-&gt;2-&gt;3-&gt;4-&gt;5</span></div><div><br/></div></div></div><div><hr style="box-sizing: content-box; border-width: 1px 0px 0px; border-top-style: dotted; border-top-color: rgb(238, 238, 238); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; padding: 0px; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; text-decoration: none;"/><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); font-size: 12.600000381469727px; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><br/></div></div><div>思路:</div><h2 style="padding: 8px 0px 5px 5px; font-size: 20px; font-weight: bold; line-height: 25px; background-color: rgb(0, 102, 153); border-top-left-radius: 6px; border-top-right-radius: 6px; border-bottom-right-radius: 6px; border-bottom-left-radius: 6px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; color: rgb(255, 255, 255); text-shadow: rgb(34, 34, 34) 2px 2px 3px; font-family: Helvetica, 微软雅黑, 宋体, 黑体, Arial; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; background-position: initial initial; background-repeat: initial initial;"><span style="font-size: 20px; font-weight: bold; line-height: 25px; background-color: rgb(0, 102, 153); border-top-left-radius: 6px; border-top-right-radius: 6px; border-bottom-right-radius: 6px; border-bottom-left-radius: 6px; box-shadow: rgb(95, 90, 75) 0px 0px 0px 1px, rgba(10, 10, 0, 0.498039) 1px 1px 6px 1px; color: rgb(255, 255, 255); text-shadow: rgb(34, 34, 34) 2px 2px 3px; font-family: Helvetica, 微软雅黑, 宋体, 黑体, Arial; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; background-position: initial initial; background-repeat: initial initial;">埃拉托色尼筛选法</span></h2><div/><div><br/></div><div><br/></div><div>代码:</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div><div><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">def </span><span style="color: #ffc66d; font-family: Monaco; font-size: 12px;">removeElements</span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="color: #94558d; font-family: Monaco; font-size: 12px;">self</span><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">, </span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">head</span><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">, </span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">val):</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">    </span><span style="color: #629755; font-style: italic; font-family: Monaco; font-size: 12px;">"""</span></div><div><span style="color: #629755; font-style: italic; font-family: Monaco; font-size: 12px;">    </span><span style="color: #629755; font-weight: bold; font-style: italic; font-family: Monaco; font-size: 12px;">:type</span><span style="color: #629755; font-style: italic; font-family: Monaco; font-size: 12px;"> head: ListNode</span></div><div><span style="color: #629755; font-style: italic; font-family: Monaco; font-size: 12px;">    </span><span style="color: #629755; font-weight: bold; font-style: italic; font-family: Monaco; font-size: 12px;">:type</span><span style="color: #629755; font-style: italic; font-family: Monaco; font-size: 12px;"> val: int</span></div><div><span style="color: #629755; font-style: italic; font-family: Monaco; font-size: 12px;">    </span><span style="color: #629755; font-weight: bold; font-style: italic; font-family: Monaco; font-size: 12px;">:rtype</span><span style="color: #629755; font-style: italic; font-family: Monaco; font-size: 12px;">: ListNode</span></div><div><span style="color: #629755; font-style: italic; font-family: Monaco; font-size: 12px;">    """</span></div><div><span style="color: #629755; font-style: italic; font-family: Monaco; font-size: 12px;">    </span><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">if </span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">head:</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">        </span><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">while </span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">head.val == val:   </span><span style="color: #808080; font-family: Monaco; font-size: 12px;">#第一个就是要删除的</span></div><div><span style="color: #808080; font-family: Monaco; font-size: 12px;">            </span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">head = head.</span><span style="color: #b200b2; font-family: Monaco; font-size: 12px;">next</span></div><div><span style="color: #b200b2; font-family: Monaco; font-size: 12px;">            </span><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">if </span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">head </span><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">is </span><span style="color: #8888c6; font-family: Monaco; font-size: 12px;">None</span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">:</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">                </span><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">return </span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">head</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">        pre = Node(</span><span style="color: #8888c6; font-family: Monaco; font-size: 12px;">None</span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">)</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">        pre.</span><span style="color: #b200b2; font-family: Monaco; font-size: 12px;">next </span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">= head</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">        prep = pre</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">        </span><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">while </span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">prep.</span><span style="color: #b200b2; font-family: Monaco; font-size: 12px;">next</span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">:</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">            </span><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">if </span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">prep.</span><span style="color: #b200b2; font-family: Monaco; font-size: 12px;">next</span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">.val == val:</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">                prep.</span><span style="color: #b200b2; font-family: Monaco; font-size: 12px;">next </span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">= prep.</span><span style="color: #b200b2; font-family: Monaco; font-size: 12px;">next</span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">.</span><span style="color: #b200b2; font-family: Monaco; font-size: 12px;">next</span></div><div><span style="color: #b200b2; font-family: Monaco; font-size: 12px;">            </span><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">else</span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">:</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">                prep=prep.</span><span style="color: #b200b2; font-family: Monaco; font-size: 12px;">next</span></div><div><span style="color: #b200b2; font-family: Monaco; font-size: 12px;">    </span><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">return </span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">head</span></div></div></div><div><br/></div><div><br/></div><div>效率:</div><div><img src="LeetCode%20%E5%88%A0%E9%99%A4%E9%93%BE%E8%A1%A8%E4%B8%AD%E7%9A%84%E8%8A%82%E7%82%B9.resources/265ABF43-07E1-486E-8D6B-FEAADD46068D.png" height="725" width="685"/><br/></div><div><br/></div><div>大神思路:只运行根号n次,每次检查<b>奇数倍的数字</b>(<b>因为偶数的除了2都不是素数</b>)!</div><div>代码:</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div><div><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">def </span><span style="color: #ffc66d; font-family: Monaco; font-size: 12px;">countPrimes</span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="color: #94558d; font-family: Monaco; font-size: 12px;">self</span><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">, </span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">n):</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">    </span><span style="color: #629755; font-style: italic; font-family: Monaco; font-size: 12px;">"""</span></div><div><span style="color: #629755; font-style: italic; font-family: Monaco; font-size: 12px;">    </span><span style="color: #629755; font-weight: bold; font-style: italic; font-family: Monaco; font-size: 12px;">:type</span><span style="color: #629755; font-style: italic; font-family: Monaco; font-size: 12px;"> n: int</span></div><div><span style="color: #629755; font-style: italic; font-family: Monaco; font-size: 12px;">    </span><span style="color: #629755; font-weight: bold; font-style: italic; font-family: Monaco; font-size: 12px;">:rtype</span><span style="color: #629755; font-style: italic; font-family: Monaco; font-size: 12px;">: int</span></div><div><span style="color: #629755; font-style: italic; font-family: Monaco; font-size: 12px;">    """</span></div><div><span style="color: #629755; font-style: italic; font-family: Monaco; font-size: 12px;">    </span><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">if </span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">n &lt; </span><span style="color: #6897bb; font-family: Monaco; font-size: 12px;">3</span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">: </span><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">return </span><span style="color: #6897bb; font-family: Monaco; font-size: 12px;">0</span></div><div><span style="color: #6897bb; font-family: Monaco; font-size: 12px;">    </span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">numbers = [</span><span style="color: #8888c6; font-family: Monaco; font-size: 12px;">True</span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">] * (n / </span><span style="color: #6897bb; font-family: Monaco; font-size: 12px;">2</span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">)</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">    </span><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">for </span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">m </span><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">in </span><span style="color: #8888c6; font-family: Monaco; font-size: 12px;">xrange</span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="color: #6897bb; font-family: Monaco; font-size: 12px;">3</span><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">, </span><span style="color: #8888c6; font-family: Monaco; font-size: 12px;">int</span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">(n ** </span><span style="color: #6897bb; font-family: Monaco; font-size: 12px;">.5</span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">) + </span><span style="color: #6897bb; font-family: Monaco; font-size: 12px;">1</span><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">, </span><span style="color: #6897bb; font-family: Monaco; font-size: 12px;">2</span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">):</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">        </span><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">if </span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">numbers[m / </span><span style="color: #6897bb; font-family: Monaco; font-size: 12px;">2</span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">]:</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">            numbers[m * m / </span><span style="color: #6897bb; font-family: Monaco; font-size: 12px;">2</span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">::m] = [</span><span style="color: #8888c6; font-family: Monaco; font-size: 12px;">False</span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">] * </span><span style="color: #8888c6; font-family: Monaco; font-size: 12px;">len</span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">(numbers[m * m / </span><span style="color: #6897bb; font-family: Monaco; font-size: 12px;">2</span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">::m])</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">    </span><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">return </span><span style="color: #8888c6; font-family: Monaco; font-size: 12px;">sum</span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">(numbers)</span></div></div></div><div><br/></div></body></html>