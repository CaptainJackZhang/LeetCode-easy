<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 7.6 Beta 1 (457227)"/><meta name="author" content="zhangxianlei117@gmail.com"/><meta name="created" content="2018-10-29 03:20:27 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2018-10-29 03:24:21 +0000"/><title>LeetCode 重塑矩阵</title></head><body><div style="box-sizing: border-box; line-height: 24px; padding-top: 10px;"><div style="box-sizing: border-box;"><div style="box-sizing: border-box; margin-top: 1em; margin-bottom: 1em;"><span style="box-sizing: border-box;-en-paragraph:true;">在MATLAB中，有一个非常有用的函数 </span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.600000381469727px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;-en-paragraph:true;">reshape</span><span style="box-sizing: border-box;-en-paragraph:true;">，它可以将一个矩阵重塑为另一个大小不同的新矩阵，但保留其原始数据。
</span></div><div style="box-sizing: border-box; margin-top: 1em; margin-bottom: 1em;"><span style="box-sizing: border-box;-en-paragraph:true;">给出一个由二维数组表示的矩阵，以及两个正整数</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.600000381469727px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;-en-paragraph:true;">r</span><span style="box-sizing: border-box;-en-paragraph:true;">和</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.600000381469727px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;-en-paragraph:true;">c</span><span style="box-sizing: border-box;-en-paragraph:true;">，分别表示想要的重构的矩阵的行数和列数。
</span></div><div style="box-sizing: border-box; margin-top: 1em; margin-bottom: 1em;"><span style="box-sizing: border-box;-en-paragraph:true;">重构后的矩阵需要将原始矩阵的所有元素以相同的</span><span style="box-sizing: border-box; font-weight: bold;-en-paragraph:true;">行遍历顺序</span><span style="box-sizing: border-box;-en-paragraph:true;">填充。
</span></div><div style="box-sizing: border-box; margin-top: 1em; margin-bottom: 1em;"><span style="box-sizing: border-box;-en-paragraph:true;">如果具有给定参数的</span><span style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.600000381469727px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;-en-paragraph:true;">reshape</span><span style="box-sizing: border-box;-en-paragraph:true;">操作是可行且合理的，则输出新的重塑矩阵；否则，输出原始矩阵。
</span></div><div style="box-sizing: border-box; margin-top: 1em; margin-bottom: 1em;"><span style="box-sizing: border-box; font-weight: bold;-en-paragraph:true;">示例 1:</span></div><div style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; padding: 9.5px; line-height: 1.42857143; color: rgb(51, 51, 51); word-break: break-all; word-wrap: break-word; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><div><span style="font-weight: bold; box-sizing: border-box;">输入:</span> </div><div>nums = </div><div>[[1,2],</div><div> [3,4]]</div><div>r = 1, c = 4</div><div><span style="font-weight: bold; box-sizing: border-box;">输出:</span> </div><div>[[1,2,3,4]]</div><div><span style="font-weight: bold; box-sizing: border-box;">解释:</span></div><div>行遍历nums的结果是 [1,2,3,4]。新的矩阵是 1 * 4 矩阵, 用之前的元素值一行一行填充新矩阵。</div><div><br/></div></div><div style="box-sizing: border-box; margin-top: 1em; margin-bottom: 1em;"><span style="box-sizing: border-box; font-weight: bold;-en-paragraph:true;">示例 2:</span></div><div style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; padding: 9.5px; line-height: 1.42857143; color: rgb(51, 51, 51); word-break: break-all; word-wrap: break-word; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><div><span style="font-weight: bold; box-sizing: border-box;">输入:</span> </div><div>nums = </div><div>[[1,2],</div><div> [3,4]]</div><div>r = 2, c = 4</div><div><span style="font-weight: bold; box-sizing: border-box;">输出:</span> </div><div>[[1,2],</div><div> [3,4]]</div><div><span style="font-weight: bold; box-sizing: border-box;">解释:</span></div><div>没有办法将 2 * 2 矩阵转化为 2 * 4 矩阵。 所以输出原矩阵。</div><div><br/></div></div><div style="box-sizing: border-box; margin-top: 1em; margin-bottom: 1em;"><span style="box-sizing: border-box; font-weight: bold;-en-paragraph:true;">注意：</span></div><ol style="box-sizing: border-box;"><li style="box-sizing: border-box;"><div>给定矩阵的宽和高范围在 [1, 100]。</div></li><li style="box-sizing: border-box;"><div>给定的 r 和 c 都是正数。</div></li></ol></div></div><div style="box-sizing: border-box; font-size: 0.9em;"><hr style="box-sizing: content-box; border-width: 1px 0px 0px; border-top-style: dotted; border-top-color: rgb(238, 238, 238); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; padding: 0px; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; text-decoration: none;"/><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><br/></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><span>思路：遍历二维数组，设置行和列的标记，如果每行元素够了就另起一行。如果行列相乘大于原数组元素个数，就输出原数组</span></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><span><br/></span></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><span>代码：</span></div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;"><span style="color: #cc7832;">class </span>Solution(<span style="color: #8888c6;">object</span>):</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;">    <span style="color: #cc7832;">def </span><span style="color: #ffc66d;">matrixReshape</span>(<span style="color: #94558d;">self</span><span style="color: #cc7832;">, </span>nums<span style="color: #cc7832;">, </span>r<span style="color: #cc7832;">, </span>c):</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;">        <span style="color: #629755; font-style: italic;">"""</span></div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;"><span style="color: #629755; font-style: italic;">        </span><span style="color: #629755; font-weight: bold; font-style: italic;">:type</span><span style="color: #629755; font-style: italic;"> nums: List[List[int]]</span></div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;"><span style="color: #629755; font-style: italic;">        </span><span style="color: #629755; font-weight: bold; font-style: italic;">:type</span><span style="color: #629755; font-style: italic;"> r: int</span></div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;"><span style="color: #629755; font-style: italic;">        </span><span style="color: #629755; font-weight: bold; font-style: italic;">:type</span><span style="color: #629755; font-style: italic;"> c: int</span></div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;"><span style="color: #629755; font-style: italic;">        </span><span style="color: #629755; font-weight: bold; font-style: italic;">:rtype</span><span style="color: #629755; font-style: italic;">: List[List[int]]</span></div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;"><span style="color: #629755; font-style: italic;">        """</span></div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;"><span style="color: #629755; font-style: italic;">        </span>r0 = <span style="color: #6897bb;">0</span></div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;"><span style="color: #6897bb;">        </span>c0 = <span style="color: #6897bb;">0</span></div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;"><span style="color: #6897bb;">        </span>new = []</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;">        hang = []</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;">        <span style="color: #cc7832;">if </span><span style="color: #8888c6;">len</span>(nums) * <span style="color: #8888c6;">len</span>(nums[<span style="color: #6897bb;">0</span>]) &lt; r * c:</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;">            <span style="color: #cc7832;">return </span>nums</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;">        <span style="color: #cc7832;">else</span>:</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;">            <span style="color: #cc7832;">for </span>row <span style="color: #cc7832;">in </span>nums:</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;">                <span style="color: #cc7832;">for </span>j <span style="color: #cc7832;">in </span>row:</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;">                    <span style="color: #cc7832;">if </span>c0 &lt; c:</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;">                        hang.append(j)</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;">                        c0 += <span style="color: #6897bb;">1</span></div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;"><span style="color: #6897bb;">                    </span><span style="color: #cc7832;">if </span>r0 &lt; r <span style="color: #cc7832;">and </span>c0 == c:</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;">                        new.append(hang)</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;">                        hang = []</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;">                        r0 += <span style="color: #6897bb;">1</span></div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;"><span style="color: #6897bb;">                        </span>c0 = <span style="color: #6897bb;">0</span></div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;"><span style="color: #6897bb;">            </span><span style="color: #cc7832;">return </span>new</div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><span style="background-color:rgb(43, 43, 43);color:rgb(169, 183, 198);font-family:Menlo;font-size:12pt;"><br/></span><span><br/></span></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><span>效率：</span></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><span style="font-size: 12px; color: rgb(51, 51, 51);"><img src="LeetCode%20%E9%87%8D%E5%A1%91%E7%9F%A9%E9%98%B5.resources/4C1C402D-873D-482F-8B4B-33AA9E4765E8.png" height="1132" width="1402"/></span><span><br/></span></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><span><br/></span></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><span><br/></span></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><span><br/></span></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><span><br/></span></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><span><br/></span></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><span><br/></span></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><span><br/></span></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><br/></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><br/></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><br/></div></div><div><br/></div></body></html>