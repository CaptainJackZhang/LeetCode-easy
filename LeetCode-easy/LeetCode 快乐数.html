<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 7.6 Beta 1 (457227)"/><meta name="author" content="zhangxianlei117@gmail.com"/><meta name="created" content="2018-08-31 07:56:14 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2018-08-31 08:28:40 +0000"/><title>LeetCode 快乐数</title></head><body><div><div style="box-sizing: border-box;"><div style="box-sizing: border-box; margin-top: 1em; margin-bottom: 1em;"><span style="box-sizing: border-box;-en-paragraph:true;">编写一个算法来判断一个数是不是“快乐数”。
</span></div><div style="box-sizing: border-box; margin-top: 1em; margin-bottom: 1em;"><span style="box-sizing: border-box;-en-paragraph:true;">一个“快乐数”定义为：对于一个正整数，每一次将该数替换为它每个位置上的数字的平方和，然后重复这个过程直到这个数变为 1，也可能是无限循环但始终变不到 1。如果可以变为 1，那么这个数就是快乐数。
</span></div><div style="box-sizing: border-box; margin-top: 1em; margin-bottom: 1em;"><span style="box-sizing: border-box; font-weight: bold;-en-paragraph:true;">示例: </span></div><div style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; padding: 9.5px; line-height: 1.42857143; color: rgb(51, 51, 51); word-break: break-all; word-wrap: break-word; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><div><span style="font-weight: bold; box-sizing: border-box;">输入:</span> 19</div><div><span style="font-weight: bold; box-sizing: border-box;">输出:</span> true</div><div><span style="font-weight: bold; box-sizing: border-box;">解释: </span></div><div>1<span style="vertical-align: super; font-size: smaller; font-size: 9.75px; box-sizing: border-box; line-height: 0; top: -0.5em;">2</span> + 9<span style="vertical-align: super; font-size: smaller; font-size: 9.75px; box-sizing: border-box; line-height: 0; top: -0.5em;">2</span> = 82</div><div>8<span style="vertical-align: super; font-size: smaller; font-size: 9.75px; box-sizing: border-box; line-height: 0; top: -0.5em;">2</span> + 2<span style="vertical-align: super; font-size: smaller; font-size: 9.75px; box-sizing: border-box; line-height: 0; top: -0.5em;">2</span> = 68</div><div>6<span style="vertical-align: super; font-size: smaller; font-size: 9.75px; box-sizing: border-box; line-height: 0; top: -0.5em;">2</span> + 8<span style="vertical-align: super; font-size: smaller; font-size: 9.75px; box-sizing: border-box; line-height: 0; top: -0.5em;">2</span> = 100</div><div>1<span style="vertical-align: super; font-size: smaller; font-size: 9.75px; box-sizing: border-box; line-height: 0; top: -0.5em;">2</span> + 0<span style="vertical-align: super; font-size: smaller; font-size: 9.75px; box-sizing: border-box; line-height: 0; top: -0.5em;">2</span> + 0<span style="vertical-align: super; font-size: smaller; font-size: 9.75px; box-sizing: border-box; line-height: 0; top: -0.5em;">2</span> = 1</div><div><br/></div></div></div></div><div><hr style="box-sizing: content-box; border-width: 1px 0px 0px; border-top-style: dotted; border-top-color: rgb(238, 238, 238); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; padding: 0px; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; text-decoration: none;"/><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><br/></div></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><br/></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;">思路:</div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;">递归,每次都拆分各个位的平方和,然后查看是否能到,然后如果循环里有4则会进入死循环,因此可以作为判断循环的标准.</div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><br/></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;">代码:</div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div><div><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">class </span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">Solution(</span><span style="color: #8888c6; font-family: Monaco; font-size: 12px;">object</span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">):</span></div><div><br style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">    </span><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">def </span><span style="color: #ffc66d; font-family: Monaco; font-size: 12px;">isHappy</span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">(</span><span style="color: #94558d; font-family: Monaco; font-size: 12px;">self</span><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">, </span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">n):</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">        </span><span style="color: #629755; font-style: italic; font-family: Monaco; font-size: 12px;">"""</span></div><div><span style="color: #629755; font-style: italic; font-family: Monaco; font-size: 12px;">        </span><span style="color: #629755; font-weight: bold; font-style: italic; font-family: Monaco; font-size: 12px;">:type</span><span style="color: #629755; font-style: italic; font-family: Monaco; font-size: 12px;"> n: int</span></div><div><span style="color: #629755; font-style: italic; font-family: Monaco; font-size: 12px;">        </span><span style="color: #629755; font-weight: bold; font-style: italic; font-family: Monaco; font-size: 12px;">:rtype</span><span style="color: #629755; font-style: italic; font-family: Monaco; font-size: 12px;">: bool</span></div><div><span style="color: #629755; font-style: italic; font-family: Monaco; font-size: 12px;">        """</span></div><div><span style="color: #629755; font-style: italic; font-family: Monaco; font-size: 12px;">        </span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">sum = </span><span style="color: #6897bb; font-family: Monaco; font-size: 12px;">0</span></div><div><span style="color: #6897bb; font-family: Monaco; font-size: 12px;">        </span><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">if </span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">n&lt;</span><span style="color: #6897bb; font-family: Monaco; font-size: 12px;">0</span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">: </span><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">return </span><span style="color: #8888c6; font-family: Monaco; font-size: 12px;">False</span></div><div><span style="color: #8888c6; font-family: Monaco; font-size: 12px;">        </span><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">elif </span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">n==</span><span style="color: #6897bb; font-family: Monaco; font-size: 12px;">1</span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">: </span><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">return </span><span style="color: #8888c6; font-family: Monaco; font-size: 12px;">True</span></div><div><span style="color: #8888c6; font-family: Monaco; font-size: 12px;">        </span><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">while </span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">(n &gt; </span><span style="color: #6897bb; font-family: Monaco; font-size: 12px;">0</span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">):</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">            sum += (n % </span><span style="color: #6897bb; font-family: Monaco; font-size: 12px;">10</span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">) ** </span><span style="color: #6897bb; font-family: Monaco; font-size: 12px;">2</span></div><div><span style="color: #6897bb; font-family: Monaco; font-size: 12px;">            </span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">n /= </span><span style="color: #6897bb; font-family: Monaco; font-size: 12px;">10</span></div><div><span style="color: #6897bb; font-family: Monaco; font-size: 12px;">        </span><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">if </span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">sum ==</span><span style="color: #6897bb; font-family: Monaco; font-size: 12px;">4</span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">:</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">            </span><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">return </span><span style="color: #8888c6; font-family: Monaco; font-size: 12px;">False</span></div><div><span style="color: #8888c6; font-family: Monaco; font-size: 12px;">        </span><span style="color: #808080; font-family: Monaco; font-size: 12px;">#self.record.append(sum)</span></div><div><span style="color: #808080; font-family: Monaco; font-size: 12px;">        </span><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">if </span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">sum == </span><span style="color: #6897bb; font-family: Monaco; font-size: 12px;">1</span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">:</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">            </span><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">return </span><span style="color: #8888c6; font-family: Monaco; font-size: 12px;">True</span></div><div><span style="color: #8888c6; font-family: Monaco; font-size: 12px;">        </span><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">else</span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">:</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">            </span><span style="color: #cc7832; font-family: Monaco; font-size: 12px;">return </span><span style="color: #94558d; font-family: Monaco; font-size: 12px;">self</span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">.isHappy(sum)</span></div></div></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><br/></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;">效率:</div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><span style="font-size: 12px; color: rgb(51, 51, 51);"><img src="LeetCode%20%E5%BF%AB%E4%B9%90%E6%95%B0.resources/D50B07F8-FF06-42C2-A7F4-C55FC577583D.png" height="719" width="713"/></span><br/></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><br/></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><br/></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><br/></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><br/></div><div><br/></div></body></html>