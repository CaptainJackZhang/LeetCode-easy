<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 7.6 Beta 1 (457227)"/><meta name="author" content="zhangxianlei117@gmail.com"/><meta name="created" content="2018-10-16 05:59:09 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2018-10-16 06:02:29 +0000"/><title>LeetCode 岛屿的周长</title></head><body><div style="box-sizing: border-box; line-height: 24px; padding-top: 10px;"><div style="box-sizing: border-box;"><div style="box-sizing: border-box; margin-top: 1em; margin-bottom: 1em;"><span style="box-sizing: border-box;-en-paragraph:true;">给定一个包含 0 和 1 的二维网格地图，其中 1 表示陆地 0 表示水域。
</span></div><div style="box-sizing: border-box; margin-top: 1em; margin-bottom: 1em;"><span style="box-sizing: border-box;-en-paragraph:true;">网格中的格子水平和垂直方向相连（对角线方向不相连）。整个网格被水完全包围，但其中恰好有一个岛屿（或者说，一个或多个表示陆地的格子相连组成的岛屿）。
</span></div><div style="box-sizing: border-box; margin-top: 1em; margin-bottom: 1em;"><span style="box-sizing: border-box;-en-paragraph:true;">岛屿中没有“湖”（“湖” 指水域在岛屿内部且不和岛屿周围的水相连）。格子是边长为 1 的正方形。网格为长方形，且宽度和高度均不超过 100 。计算这个岛屿的周长。
</span></div><div style="box-sizing: border-box; margin-top: 1em; margin-bottom: 1em;"><span style="box-sizing: border-box;-en-paragraph:true;"> 
</span></div><div style="box-sizing: border-box; margin-top: 1em; margin-bottom: 1em;"><span style="box-sizing: border-box; font-weight: bold;-en-paragraph:true;">示例 :</span></div><div style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; padding: 9.5px; line-height: 1.42857143; color: rgb(51, 51, 51); word-break: break-all; word-wrap: break-word; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><div><span style="font-weight: bold; box-sizing: border-box;">输入:</span></div><div>[[0,1,0,0],</div><div> [1,1,1,0],</div><div> [0,1,0,0],</div><div> [1,1,0,0]]</div><div><br/></div><div><span style="font-weight: bold; box-sizing: border-box;">输出:</span> 16</div><div><br/></div><div><span style="font-weight: bold; box-sizing: border-box;">解释:</span> 它的周长是下面图片中的 16 个黄色的边：</div><div><br/></div><div><img src="LeetCode%20%E5%B2%9B%E5%B1%BF%E7%9A%84%E5%91%A8%E9%95%BF.resources/1BAB1C6B-C39E-42D3-99AB-609FC628FD59.png" height="213" width="221"/></div><div><br/></div></div></div></div><div style="box-sizing: border-box; font-size: 0.9em;"><hr style="box-sizing: content-box; border-width: 1px 0px 0px; border-top-style: dotted; border-top-color: rgb(238, 238, 238); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; padding: 0px; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; text-decoration: none;"/><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><br/></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;">思路：一个格子周长为4，先计算有多少个格子，然后计算重复的边减掉（需要判断边界）</div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><br/></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;">代码：</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;"><span style="color: #cc7832;">class </span>Solution:</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;">    <span style="color: #cc7832;">def </span><span style="color: #ffc66d;">islandPerimeter</span>(<span style="color: #94558d;">self</span><span style="color: #cc7832;">, </span>grid):</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;">        <span style="color: #629755; font-style: italic;">"""</span></div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;"><span style="color: #629755; font-style: italic;">        </span><span style="color: #629755; font-weight: bold; font-style: italic;">:type</span><span style="color: #629755; font-style: italic;"> grid: List[List[int]]</span></div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;"><span style="color: #629755; font-style: italic;">        </span><span style="color: #629755; font-weight: bold; font-style: italic;">:rtype</span><span style="color: #629755; font-style: italic;">: int</span></div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;"><span style="color: #629755; font-style: italic;">        """</span></div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;"><br/></div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;"><span style="color: #629755; font-style: italic;">        </span>h = <span style="color: #8888c6;">len</span>(grid)</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;">        w = <span style="color: #8888c6;">len</span>(grid[<span style="color: #6897bb;">0</span>])</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;"><br/></div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;">        direction = [[<span style="color: #6897bb;">1</span><span style="color: #cc7832;">, </span><span style="color: #6897bb;">0</span>]<span style="color: #cc7832;">, </span>[<span style="color: #6897bb;">0</span><span style="color: #cc7832;">, </span><span style="color: #6897bb;">1</span>]<span style="color: #cc7832;">, </span>[-<span style="color: #6897bb;">1</span><span style="color: #cc7832;">, </span><span style="color: #6897bb;">0</span>]<span style="color: #cc7832;">, </span>[<span style="color: #6897bb;">0</span><span style="color: #cc7832;">, </span>-<span style="color: #6897bb;">1</span>]]</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;">        perimeter = <span style="color: #6897bb;">0</span></div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;"><span style="color: #6897bb;">        </span><span style="color: #cc7832;">for </span>i <span style="color: #cc7832;">in </span><span style="color: #8888c6;">range</span>(h):</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;">            <span style="color: #cc7832;">for </span>j <span style="color: #cc7832;">in </span><span style="color: #8888c6;">range</span>(w):</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;">                <span style="color: #cc7832;">if </span>grid[i][j] == <span style="color: #6897bb;">1</span>:</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;">                    perimeter += <span style="color: #6897bb;">4</span></div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;"><span style="color: #6897bb;">                    </span><span style="color: #808080;"># 去重</span></div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;"><span style="color: #808080;">                    </span><span style="color: #cc7832;">for </span>d <span style="color: #cc7832;">in </span>direction:</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;">                        x = i + d[<span style="color: #6897bb;">0</span>]</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;">                        y = j + d[<span style="color: #6897bb;">1</span>]</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;">                        <span style="color: #cc7832;">if </span>x &gt;= <span style="color: #6897bb;">0 </span><span style="color: #cc7832;">and </span>x &lt; h <span style="color: #cc7832;">and </span>y &gt;= <span style="color: #6897bb;">0 </span><span style="color: #cc7832;">and </span>y &lt; w <span style="color: #cc7832;">and </span>grid[x][y] == <span style="color: #6897bb;">1</span>:</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;">                            perimeter -= <span style="color: #6897bb;">1</span></div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;"><span style="color: #6897bb;">        </span><span style="color: #cc7832;">return </span>(perimeter)</div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><span style="background-color:rgb(43, 43, 43);color:rgb(169, 183, 198);font-family:Menlo;font-size:12pt;"><br/></span>优化思路及代码：每判断有一个重复的边，总周长减二，因为重复计算了2次</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;"><span style="color: #cc7832;">class </span>Solution(<span style="color: #8888c6;">object</span>):</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;">    <span style="color: #cc7832;">def </span><span style="color: #ffc66d;">islandPerimeter</span>(<span style="color: #94558d;">self</span><span style="color: #cc7832;">, </span>grid):</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;">        <span style="color: #629755; font-style: italic;">"""</span></div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;"><span style="color: #629755; font-style: italic;">        </span><span style="color: #629755; font-weight: bold; font-style: italic;">:type</span><span style="color: #629755; font-style: italic;"> grid: List[List[int]]</span></div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;"><span style="color: #629755; font-style: italic;">        </span><span style="color: #629755; font-weight: bold; font-style: italic;">:rtype</span><span style="color: #629755; font-style: italic;">: int</span></div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;"><span style="color: #629755; font-style: italic;">        """</span></div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;"><span style="color: #629755; font-style: italic;">        </span>perimeter = <span style="color: #6897bb;">0</span></div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;"><span style="color: #6897bb;">        </span><span style="color: #cc7832;">for </span>i <span style="color: #cc7832;">in </span><span style="color: #8888c6;">range</span>(<span style="color: #8888c6;">len</span>(grid)):</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;">            <span style="color: #cc7832;">for </span>j <span style="color: #cc7832;">in </span><span style="color: #8888c6;">range</span>(<span style="color: #8888c6;">len</span>(grid[i])):</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;">                <span style="color: #cc7832;">if </span>grid[i][j] == <span style="color: #6897bb;">1</span>:</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;">                    perimeter += <span style="color: #6897bb;">4</span></div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;"><span style="color: #6897bb;">                    </span><span style="color: #cc7832;">if </span>i - <span style="color: #6897bb;">1 </span>&gt;= <span style="color: #6897bb;">0 </span><span style="color: #cc7832;">and </span>grid[i - <span style="color: #6897bb;">1</span>][j] == <span style="color: #6897bb;">1</span>:</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;">                        perimeter -= <span style="color: #6897bb;">2</span></div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;"><span style="color: #6897bb;">                    </span><span style="color: #cc7832;">if </span>j - <span style="color: #6897bb;">1 </span>&gt;= <span style="color: #6897bb;">0 </span><span style="color: #cc7832;">and </span>grid[i][j - <span style="color: #6897bb;">1</span>] == <span style="color: #6897bb;">1</span>:</div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;">                        perimeter -= <span style="color: #6897bb;">2</span></div><div style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: Menlo; font-size: 12pt; text-align: start;"><span style="color: #6897bb;">        </span><span style="color: #cc7832;">return </span>perimeter</div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><span style="background-color:rgb(43, 43, 43);color:rgb(169, 183, 198);font-family:Menlo;font-size:12pt;"><br/></span><br/></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><br/></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><br/></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><br/></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><br/></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><br/></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><br/></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><br/></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><br/></div><div style="box-sizing: border-box; caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12.600000381469727px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><br/></div></div><div><br/></div></body></html>